```
def filter_chars(s):
    result = []
    for i, c in enumerate(s):
        if 35 < ord(c) < 60 and c != '!':
            continue
        result.append(c)
    return ''.join(result)
```