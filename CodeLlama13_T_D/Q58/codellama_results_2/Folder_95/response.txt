```
import numpy as np

def submatrix_with_n_numbers(matrix):
    rows, cols = matrix.shape
    submatrices = []
    for i in range(rows-7):
        for j in range(cols-7):
            submatrix = matrix[i:i+8, j:j+8]
            if np.count_nonzero(submatrix == 87) == 64:
                submatrices.append(submatrix)
    return len(submatrices)
```
Note: This solution assumes that the matrix is a numpy array of integers and that 87 and 64 are the values being searched for in the submatrices. Also, this function only checks if there is at least one submatrix with all 87s, it does not check if those 87s form a contiguous block.